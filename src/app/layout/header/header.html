@let role = user()?.role;
<header>
    <mat-toolbar>
        <mat-toolbar-row>
            <a class="btn" matButton routerLink="/">
                <mat-icon>sports_esports</mat-icon>
                <h2 matTooltip="Home Page">Game Store</h2>
            </a>
            <span class="spacer"></span>
            @if (isUser()) {
            <div class="username-container" @slideAnimation>
                <p>Welcome back, <span [matTooltip]="user()?.email" class="username">{{user()?.username}}</span> ðŸ˜Ž</p>
            </div>
            <span class="spacer"></span>
            }
            <div class="btn-container">
                <!-- Admin Menu  -->
                @if (isUser() && role !== undefined && role !== 'user') {
                <button matTooltip="{{role === 'admin'? 'Admin' : 'Moderator'}} Settings" class="btn"
                    matButton="outlined" [matMenuTriggerFor]="adminMenu">
                    {{role === 'admin'? 'Admin' : 'Moderator'}} Panel<mat-icon>admin_panel_settings</mat-icon>
                </button>
                <mat-menu #adminMenu="matMenu">
                    @if(role === 'admin'){
                    <a mat-menu-item routerLink="/moderate/change-roles" routerLinkActive="active">Manage roles</a>
                    }
                    <a mat-menu-item routerLink="/moderate/change-categories" routerLinkActive="active">Manage
                        Category</a>
                    <a mat-menu-item routerLink="/moderate/change-platforms" routerLinkActive="active">Manage
                        Platform</a>
                </mat-menu>
                <!-- Admin Menu  -->
                }
                <!-- Mat Menu Definition -->
                <button matTooltip="Main menu" class="btn" matButton="outlined" [matMenuTriggerFor]="mainMenu">
                    Menu <mat-icon>apps</mat-icon>
                </button>
                <mat-menu #mainMenu="matMenu">
                    <a mat-menu-item routerLink="/" routerLinkActive="active"
                        [routerLinkActiveOptions]="{ exact: true }">Home</a>
                    <a mat-menu-item routerLink="/games" routerLinkActive="active"
                        [routerLinkActiveOptions]="{ exact: true }">Games</a>
                    @if (isUser()) {
                    <a mat-menu-item routerLink="/games/create" routerLinkActive="active">Create Game</a>
                    }
                    <a mat-menu-item routerLink="/about-us" routerLinkActive="active">About Us</a>
                </mat-menu>
                <!-- Mat Menu Definition -->

                <!-- User Menu  -->
                <button matTooltip="User menu" class="btn" matButton="outlined" [matMenuTriggerFor]="userMenu">
                    Profile <mat-icon>account_circle</mat-icon>
                </button>
                <mat-menu #userMenu="matMenu">
                    @if (isUser()) {
                    <a mat-menu-item routerLink="/users/profile" routerLinkActive="active">Profile</a>
                    <a mat-menu-item href="/users/logout" routerLinkActive="active"
                        (click)="logoutEventHandler($event)">Logout</a>
                    } @else {
                    <a mat-menu-item routerLink="/users/login" routerLinkActive="active">Login</a>
                    <a mat-menu-item routerLink="/users/register" routerLinkActive="active">Register</a>
                    }
                </mat-menu>
                <!-- User Menu  -->
            </div>
        </mat-toolbar-row>
    </mat-toolbar>
</header>